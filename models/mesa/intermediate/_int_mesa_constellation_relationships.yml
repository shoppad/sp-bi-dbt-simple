version: 2
models:
  - name: int_mesa_constellation_relationships
    tests:
      - dbt_utils.equal_rowcount:
          compare_model: ref('int_shops')
    columns:
      - name: shop_subdomain
        tests:
          - unique
          - not_null
          - relationships:
              to: ref('int_shops')
              field: shop_subdomain
        description: The foreign key for the Shop.
      - name: has_blog_studio
        tests:
          - not_null
        description: Whether the Shop has an account for tihs app.
      - name: has_bouncer
        tests:
          - not_null
        description: Whether the Shop has an account for tihs app.
      - name: has_uploadery
        tests:
          - not_null
        description: Whether the Shop has an account for tihs app.
      - name: has_infinite_options
        tests:
          - not_null
        description: Whether the Shop has an account for tihs app.
      - name: has_coin
        tests:
          - not_null
        description: Whether the Shop has an account for tihs app.
      - name: has_tracktor
        tests:
          - not_null
        description: Whether the Shop has an account for tihs app.
      - name: has_page_studio
        tests:
          - not_null
        description: Whether the Shop has an account for tihs app.
      - name: has_smile
        tests:
          - not_null
        description: Whether the Shop has an account for tihs app.
      - name: has_kitkarts
        tests:
          - not_null
        description: Whether the Shop has an account for tihs app.
