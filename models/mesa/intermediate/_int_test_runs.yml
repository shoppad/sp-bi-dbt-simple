version: 2
models:
  - name: int_test_runs
    columns:
      - name: workflow_id
      - name: shop_subdomain
        tests:
          - relationships:
              to: ref('int_shops')
              field: shop_subdomain
      - name: test_run_id
        tests:
          - unique
          - not_null
      - name: test_run_at_utc
        tests:
          - not_null
      - name: test_run_at_pt
        tests:
          - not_null
      - name: test_run_on_pt
        tests:
          - not_null
      - name: run_status
        tests:
          - not_null
      - name: unbillable_reason
      - name: is_free_workflow
      - name: is_billable
      - name: workflow_name
        tests:
          - not_null
      - name: source_app
        tests:
          - not_null
      - name: integration_key
      - name: child_failure_count
        tests:
          - not_null
      - name: updated_at
      - name: is_workflow_hard_deleted
        tests:
          - not_null
      - name: is_successful
        tests:
          - not_null
