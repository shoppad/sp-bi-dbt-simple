version: 2
models:
  - name: int_shops
    tests:
      - dbt_expectations.expect_table_row_count_to_be_between:
          min_value: 4000
    columns:
      - name: currency
        tests:
          - not_null
        description: The financial currency used by the shop with its customers.
      - name: install_status
        tests:
          - not_null
        description: The current mesa app installation status of the shop.
      - name: shopify_plan_name
        tests:
          - not_null
        description: The shopify plan used by the shop.
      - name: shop_subdomain
        tests:
          - not_null
          - unique
        description: The foreign key for the Shop.
      - name: orders_current_count
        description: The current monthly order volume of the shop.
      - name: orders_initial_count
        description: The 30-day order count volume at the time of app installation.
      - name: first_installed_at_pt
        tests:
          - not_null
        description: The effective created at for the shop.
      - name: referral
        description: "[fill]"
      - name: latest_installed_at_pt
        description: The most recent app installation date.
      - name: meta
        description: a field used by account services to record onboarding sessions.
      - name: is_builder_wizard_completed
        description: "[fill]"
      - name: activation_date_pt
        description: The date the shop achieved the current definition of activated.
      - name: uninstalled_at_pt
        description: The timestamp of the latest uninstallation of the app.
      - name: minutes_until_uninstall
        description: The minutes between initial install and the latest uninstall.
      - name: plan_upgrade_date
        description: The date of the first plan upgrade action.
      - name: cohort_week
        description: The week of the Shop's first app installation.
      - name: cohort_month
        description: The month of the Shop's first app installation.
      - name: TRIAL_END_DT
      - name: LAUNCH_SESSION_DATE
      - name: HAS_HAD_LAUNCH_SESSION
      - name: REVENUE_INITIAL_TOTAL_USD
      - name: REVENUE_CURRENT_TOTAL_USD
      - name: EXCHANGE_RATE_AT
