version: 2
models:
  - name: int_shops
    tests:
      - dbt_expectations.expect_table_row_count_to_be_between:
          min_value: 4000
    columns:
      - name: currency
        tests:
          - not_null
        description: the financial currency used by the shop with its customers.
      - name: install_status
        tests:
          - not_null
        description: the current mesa app installation status of the shop.
      - name: shopify_plan_name
        tests:
          - not_null
        description: the shopify plan used by the shop.
      - name: shop_subdomain
        tests:
          - not_null
          - unique
      - name: revenue_initial_total
      - name: orders_current_count
      - name: orders_initial_count
      - name: first_installed_at_pt
        tests:
          - not_null
        description: the effective created at for the shop.
      - name: referral
      - name: latest_installed_at_pt
        description: the most recent app installation date.
      - name: revenue_current_total
      - name: meta
      - name: is_builder_wizard_completed
      - name: activation_date_pt
      - name: uninstalled_at_pt
      - name: minutes_until_uninstall
      - name: plan_upgrade_date
