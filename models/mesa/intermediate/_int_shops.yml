version: 2
models:
  - name: int_shops
    tests:
      - dbt_expectations.expect_table_row_count_to_be_between:
          min_value: 4000
    columns:
      - name: currency
        tests:
          - not_null

      - name: install_status
        tests:
          - not_null

      - name: shopify_plan_name
        tests:
          - not_null
      - name: SHOP_SUBDOMAIN
        tests:
          - not_null
          - unique
      - name: REVENUE_INITIAL_TOTAL
      - name: ORDERS_CURRENT_COUNT
      - name: ORDERS_INITIAL_COUNT
      - name: first_installed_at_pt
        tests:
          - not_null
      - name: REFERRAL
      - name: TIMESTAMP
      - name: latest_installed_at_pt
      - name: REVENUE_CURRENT_TOTAL
      - name: META
      - name: IS_BUILDER_WIZARD_COMPLETED
      - name: ACTIVATION_DATE_PT
      - name: UNINSTALLED_AT_PT
      - name: MINUTES_UNTIL_UNINSTALL
