version: 2
models:
  - name: stg_shops
    description: '{{ doc("staging_shops") }}'
    tests:
      - dbt_expectations.expect_table_row_count_to_be_between:
          min_value: 4000

    columns:
      - name: shop_subdomain
        tests:
          - not_null
          - unique

      - name: STATUS
      - name: BILLING
      - name: SCOPES
      - name: THEMES
      - name: ENTITLEMENTS
      - name: REFERRAL
      - name: METHOD
      - name: META
      - name: HANDLE
      - name: TIMESTAMP
      - name: FIRST_INSTALLED_AT
        tests:
          - not_null
      - name: LATEST_INSTALLED_AT
        tests:
          - not_null
      - name: MONGOID
      - name: UUID
      - name: __HEVO__MARKED_DELETED
      - name: ANALYTICS
      - name: WEBHOOKS
      - name: _CREATED_AT
      - name: AUTHTOKEN
      - name: USAGE
      - name: __HEVO__INGESTED_AT
      - name: __HEVO__LOADED_AT
      - name: WIZARD
      - name: CONFIG
      - name: SHOPIFY
      - name: MESSAGES
      - name: ACCOUNT
      - name: METABASE
      - name: SCHEMA
      - name: GROUP
      - name: __HEVO__DATABASE_NAME
      - name: _ID
      - name: __HEVO_ID
