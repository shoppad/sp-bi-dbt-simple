version: 2
models:
  - name: mesa_shop_days
    columns:
      - name: shop_id
        tests:
          - not_null
      - name: dt
        tests:
          - not_null
      - name: TRIGGER_RUNS_COUNT
      - name: SUCCESSFUL_WORKFLOW_RUNS_COUNT
      - name: WORKFLOW_SUCCESS_PERCENT
      - name: SUBSCRIPTION_ID
      - name: BILLED_COUNT
      - name: DAILY_USAGE_REVENUE
      - name: SHOP_SUBDOMAIN
      - name: FIRST_INSTALLED_AT
      - name: IS_ACTIVE
      - name: ROLLING_THIRTY_DAY_WORKFLOW_COUNT
      - name: DAILY_PLAN_REVENUE
      - name: MESA_SHOP_DAYS_ID
      - name: INC_AMOUNT
    tests:
      - dbt_expectations.expect_compound_columns_to_be_unique:
          column_list: ["dt", "shop_id"]
